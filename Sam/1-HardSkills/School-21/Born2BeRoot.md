## Project overview
root pass - Larenssabl_143
rcarmen - Maryjane_143
`su` (substitute user)
`users` (all logined users)
`groups`
`netstat -anp`
`vim /etc/network/interfaces`
`dpkg -l`
### Что такое ВМ?
**Гипервизор** – это программа, которая управляет физическими ресурсами вычислительной машины и распределяет эти ресурсы между несколькими различными операционными системами, позволяя запускать их одновременно.

**Виртуальная машина** (ВМ или VM) — это виртуальный компьютер, который использует выделенные ресурсы реального компьютера (процессор, диск, адаптер). Эти ресурсы хранятся в облаке и позволяют ВМ работать автономно. Простыми словами, виртуальная машина позволяет создать на одном компьютере ещё один компьютер, который будет использовать его ресурсы, но работать изолированно.

### Зачем нужны ВМ?
Виртуальные машины используются в бизнес-среде. Разработка большого количества сервисов сейчас не обходится без ВМ или контейнеров. Разработчики используют их, чтобы гарантировать легкую расширяемость продукта и высокую производительность независимо от количества пользователей.

Некоторые разработчики используют ВМ в утилитарных целях, чтобы проверять работоспособность своих проектов. А кто-то таким образом знакомится с новыми для себя операционными системами. Впрочем, обо всем подробнее.

### apt vs aptitude 
Помимо основного различия в том, что **Aptitude** является менеджером пакетов высокого уровня, а **APT** - менеджером пакетов более низкого уровня, который может использоваться другими менеджерами пакетов более высокого уровня, другие основные особенности, которые разделяют эти два менеджера пакетов:

1.  **Aptitude** шире по функциональности, чем **apt-get,** и объединяет функции apt-get и других его вариантов, включая **apt-mark** и **apt-cache** .
2.  При удалении любого установленного пакета **Aptitude** автоматически удалит неиспользуемые пакеты, в то время как **apt-get** потребует, чтобы пользователь явно указал это, добавив дополнительную опцию `‘—auto-remove’`или указав `‘apt-get autoremove’`.
3.  Для дальнейшего изучения того, почему блокируется определенное действие или почему или почему необходимо предпринять определенное действие, Aptitude предлагает `'why'`и команды  ```why-not``` .

**Например** : Aptitude может найти причину для установки определенного пакета, просмотрев список установленных пакетов и проверив, есть ли у какого-либо из предложенных пакетов зависимости или какая-либо из их зависимостей предполагает, что этот пакет или так далее.

### AppArmor
aa-status
AppArmor блокирует уязвимые процессы, ограничивая уязвимость в системе безопасности, которая может возникнуть из-за уязвимости этих процессов. AppArmor можно также использовать для того, чтобы заблокировать Mozilla Firefox для повышения безопасности, но по умолчанию это не делается.
AppArmor похож на SELinux, используемый по умолчанию в Fedora и Red Hat. Хотя AppArmor и SELinux работают по-разному, с их помощью реализуется защита вида "мандатный контроль доступа" ("mandatory access control" - MAC). По сути, AppArmor позволяет разработчикам Ubuntu ограничивать действия, которые могут выполнять процессы.

## Simple setup
1. systemctl status ufw | sudo ufw status verbose
2. systemctl status sshd 
3. uname -a

## User
1. getent passwd rcarmen
2. getent group sudo user42
3. sudo visudo -f /etc/sudoers.d/sudoers-specs 
4. vim /etc/security/pwquality.conf
5. *vim /etc/login.defs
6. useradd foo
7. groupadd evaluating
8. ```sudo adduser <username> user42``` or ```gpasswd -a foo evaluating```
9. passwd or passwd rcarmen

 - Количество символов в новом пароле, которых не должно быть в старом пароле.
- Минимально допустимый размер для нового пароля (плюс один, если кредиты не отключены, что по умолчанию). (См. руководство pam_cracklib.) Не может быть установлено значение меньше 6.
- Максимальный кредит за наличие цифр в новом пароле. Если меньше 0, то это минимальное количество цифр в новом пароле.
- Максимальное количество разрешенных последовательных одинаковых символов в новом пароле. Проверка отключается, если значение равно 0.
- Следует ли проверять, содержит ли он имя пользователя в какой-либо форме. Проверка включена, если значение не равно 0.
- Запрашивать пользователя не более N раз, прежде чем возвращаться с ошибкой. Значение по умолчанию равно 1.
- Обеспечивает проверку качества пароля пользователя root. Включено, если эта опция присутствует.

## Hostname and partitions
1. hostname
2. hostnamectl set-hostname foo
3. vim /etc/hosts
4. lsblk

Вы можете думать о LVM как о «динамических разделах», что означает, что вы можете создавать, изменять размер, удалять «разделы» LVM (на языке LVM они называются «логическими томами») из командной строки во время работы системы Linux: нет необходимо перезагрузить систему, чтобы ядро узнало о вновь созданных разделах или разделах с измененным размером.

Другие полезные функции, которые предоставляет LVM «Logical Volumes»:

1.  Если у вас более одного жёсткого диска, логические тома могут охватывать более одного диска: то есть они не ограничиваются размером одного отдельного диска, а скорее общим совокупным пространством.
2.  Вы можете настроить «чередующиеся» LV, чтобы ввод-вывод можно было распределять на все диски, на которых размещён LV, параллельно. (Аналогично RAID-0, но немного проще в настройке.)
3.  Вы можете создать моментальный снимок (только для чтения) любого LV. Вы можете позже вернуть исходный LV к снимку или удалить снимок, если он вам больше не нужен. Это удобно, например, для резервного копирования серверов (вы не можете остановить запись всех своих приложений, поэтому вы создаёте моментальный снимок и делаете резервную копию снимка LV), но также это может использоваться для обеспечения «сети безопасности» перед критическим обновлением системы (клонировать корневой раздел, обновить, откатить изменения, если что-то пошло не так).

Диспетчер логических томов - это система отображения и управления памятью жесткого диска, используемая в системах на базе ядра Linux. Вместо старого метода разделения дисков на разделы в одной файловой системе и ограничения его только 4 разделами, LVM позволяет вам работать с "логическими томами", что является более динамичным и гибким способом работы с вашим оборудованием.

Есть три основных понятия, которые вы должны понять, чтобы полностью понять поведение LVM:

Группа томов: Это именованная коллекция физических и логических томов. Типичным системам требуется только одна группа томов, чтобы содержать все физические и логические тома в системе;
Физические тома: Они соответствуют дискам; это блочные устройства, которые предоставляют пространство для хранения логических томов;
Логические тома: Они соответствуют разделам: они содержат файловую систему. Однако, в отличие от разделов, логические тома получают имена, а не номера, они могут охватывать несколько дисков и не обязательно должны быть физически смежными.
Идея звучит достаточно просто: вы берете диск, объявляете его физическим томом, затем берете этот том и добавляете его в выбранную вами группу томов (обычно только по одному на компьютер). Наконец, вы можете "разделить" этот том на небольшие логические тома, которые могут соответствовать 1 или нескольким дискам и могут быть перераспределены в памяти, даже если они уже используются.

LVM - отличная утилита для серверов и систем, которые требуют стабильности использования и большой необходимости быстрого управления доступными физическими устройствами (например, это упрощает добавление или удаление памяти).

## sudo
Configuring:
- sudo vim /etc/sudoers.d/<filename>
	
1.  sudo --version
2.  gpasswd -a foo sudo
sudo — программа для системного администрирования UNIX-систем, позволяющая делегировать те или иные привилегированные ресурсы пользователям с ведением протокола работы. Основная идея — дать пользователям как можно меньше прав, при этом достаточных для решения поставленных задач.

## UFW
Межсетево́й экра́н, сетево́й экра́н — программный или программно-аппаратный элемент компьютерной сети, осуществляющий контроль и фильтрацию проходящего через него сетевого трафика в соответствии с заданными правилами.
0. vim /etc/login.defs
1. sudo ufw status
2. systemctl status ufw
3. ufw allow/deny 8080

## SSH
SSH — сетевой протокол прикладного уровня, позволяющий производить удалённое управление операционной системой и туннелирование TCP-соединений.
1. systemctl status sshd
2. vim /etc/ssh/sshd_config


## Script 
//1.  crontab -u root -e
2. vim /etc/systemd/system/myMonitor.service
3. vim /etc/systemd/system/myMonitor.timer
4.  systemctl daemon-reload
	
Помните: всякий раз, когда вам нужна помощь в проверке чего-либо, оцениваемый студент
должен быть в состоянии помочь вам.
Оцениваемый студент должен просто объяснить вам:
- Как работает их скрипт, показывая вам код.
- Что такое "крон".
- Как оцениваемый студент настраивает свой скрипт так, чтобы он запускался каждые 10 минут
с момента запуска сервера.
После проверки правильного функционирования сценария оцениваемый студент должен убедиться,
что этот сценарий запускается каждые 30 секунд. Ты можешь делать все, что захочешь
чтобы убедиться, что скрипт работает с динамическими значениями правильно. Наконец, оцениваемый студент
должен остановить выполнение сценария при запуске сервера, но без
изменения самого сценария. Чтобы проверить этот момент, вам придется перезапустить
сервер в последний раз. При запуске необходимо будет проверить, что скрипт
все еще существует в том же месте, что его права остались неизменными и что он
не был изменен.
Если что-то работает не так, как ожидалось, или не объяснено четко, оценка здесь останавливается